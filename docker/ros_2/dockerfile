
FROM osrf/ros:foxy-desktop

SHELL ["/bin/bash", "-c"]

RUN apt -y  update

RUN apt -y install -y \
  ros-foxy-gazebo-ros-pkgs \
  ros-foxy-gazebo-plugins \
  ros-foxy-xacro 

RUN apt-get -y install ros-foxy-gazebo-*
RUN apt-get -y install ros-foxy-ros2-control
RUN apt-get -y install ros-foxy-ros2-controllers
RUN apt-get -y install ros-foxy-gazebo-ros2-control
RUN apt-get -y install ros-foxy-joint-state-publisher-gui
RUN apt-get -y install ros-foxy-urdf-tutorial
RUN apt-get -y install freecad 

RUN apt -y install ros-foxy-ros-core ros-foxy-geometry2
RUN echo "export GAZEBO_PLUGIN_PATH=\$GAZEBO_PLUGIN_PATH:/opt/ros/foxy/lib" >> ~/.bashrc

WORKDIR /app

COPY ./ros_entrypoint.sh ./ros_entrypoint.sh
RUN chmod +x ./ros_entrypoint.sh

# Use caminho absoluto para o entrypoint
ENTRYPOINT ["/app/ros_entrypoint.sh"]
CMD ["bash"]

